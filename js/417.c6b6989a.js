"use strict";(self["webpackChunkonline_store"]=self["webpackChunkonline_store"]||[]).push([[417],{136:function(t,e,s){s.r(e),s.d(e,{default:function(){return G}});var a=s(252),n=s(577),i=s.p+"img/add_cart_ilustration.7cdda5b7.svg";const r={class:"container section"},c={class:"main-title"},o={key:0,class:"cart-section"},l={key:1,class:"empty-cart"},m=(0,a._)("figure",null,[(0,a._)("img",{class:"empty-cart__img",src:i,alt:"icon cart ilustration"})],-1),u=[m];function d(t,e,s,i,m,d){const _=(0,a.up)("ListItemsComponent"),p=(0,a.up)("SummaryComponent");return(0,a.wg)(),(0,a.iD)("div",r,[(0,a._)("h1",c,"Your shopping cart "+(0,n.zw)(d.cartItems.length>0?"":"is empty!"),1),d.cartItems.length>0?((0,a.wg)(),(0,a.iD)("section",o,[(0,a.Wm)(_),(0,a.Wm)(p)])):((0,a.wg)(),(0,a.iD)("section",l,u))])}const _={class:"cart-section__list"},p=["src","alt"],h={class:"cart__content"},g={class:"cart__title"},y={class:"cart__description"},I={class:"cart__price"},C=(0,a._)("i",{class:"bx bx-dollar"},null,-1),b={key:0,class:"cart__pieces cart__pieces--ml"},w=["value","max"],k={key:1,class:"cart__pieces"},v={class:"cart__btns"},f=["onClick"],D=(0,a._)("i",{class:"bx bx-trash"},null,-1),S=[D],x=["onClick"],U=(0,a._)("i",{class:"bx bx-save"},null,-1),$=[U],z=["onClick"],Q=(0,a._)("i",{class:"bx bx-pencil"},null,-1),A=[Q];function E(t,e,s,i,r,c){return(0,a.wg)(),(0,a.iD)("ul",_,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.$store.getters.getCart,(t=>((0,a.wg)(),(0,a.iD)("li",{class:"cart",key:t.id},[(0,a._)("figure",{class:(0,n.C_)(["cart__figure","man"===t.gender?"cart__figure--alt":""])},[(0,a._)("img",{class:"cart__img",src:t.image,alt:t.name},null,8,p)],2),(0,a._)("div",h,[(0,a._)("h3",g,(0,n.zw)(t.name)+" - "+(0,n.zw)(t.brand),1),(0,a._)("p",y,(0,n.zw)(t.description),1),(0,a._)("p",I,[C,(0,a.Uk)((0,n.zw)(t.price)+" ",1),r.editItem.id===t.id&&r.editItem.edit?((0,a.wg)(),(0,a.iD)("span",b,[(0,a.Uk)("Quantity: "),(0,a._)("input",{type:"number",value:t.pieces,onChange:e[0]||(e[0]=(...t)=>c.handleNewQuatityItem&&c.handleNewQuatityItem(...t)),min:"1",max:r.stockItem},null,40,w)])):((0,a.wg)(),(0,a.iD)("span",k,"x "+(0,n.zw)(t.pieces),1))])]),(0,a._)("div",v,[(0,a._)("button",{class:"cart__btn cart__btn--trash",onClick:e=>c.handleRemoveItemCart(t.id),title:"Remove"},S,8,f),r.editItem.id===t.id&&r.editItem.edit?((0,a.wg)(),(0,a.iD)("button",{key:0,class:"cart__btn cart__btn--edit",onClick:e=>c.handleUpdateItem(t.id),title:"Update"},$,8,x)):((0,a.wg)(),(0,a.iD)("button",{key:1,class:"cart__btn cart__btn--save",onClick:e=>c.handleEditItem(t.id),title:"Edit"},A,8,z))])])))),128))])}var N=s(945),L={name:"ListItemsComponent",data(){return{editItem:{},updatedItem:{},recoveredItem:{},newQuantity:null,stockItem:null}},methods:{handleRemoveItemCart(t){this.$store.state.copyCart=this.$store.getters.getCart.filter((e=>e.id!==t)),localStorage.setItem("cart",JSON.stringify(this.$store.state.copyCart)),N.Am.error("Item Removed!",{autoClose:2e3,theme:"light",position:"bottom-center"}),this.$store.dispatch("removeItemCartAction")},async handleEditItem(t){this.editItem={id:t,edit:!0};try{const e=await fetch(`https://my-json-server.typicode.com/DavidXploidz/online_store/clothes/${t}`),s=await e.json();this.stockItem=s.pieces}catch(e){console.error("Error al obtener datos de la API:",e)}},handleUpdateItem(t){this.editItem={id:t,edit:!1},this.cart=this.$store.getters.getCart;const e=this.cart.findIndex((e=>e.id===t));-1!==e&&(this.cart[e].pieces=this.newQuantity,localStorage.setItem("cart",JSON.stringify(this.cart))),N.Am.info("Quantity Updated!",{autoClose:2e3,theme:"light",position:"bottom-center"})},handleNewQuatityItem(t){const e=parseInt(t.target.value);e<1?this.newQuantity=1:(e>=this.stockItem&&this.stockItem&&N.Am.info(`Only ${this.stockItem} available !`,{autoClose:2e3,theme:"light",position:"bottom-center"}),this.newQuantity=e)}}},R=s(744);const O=(0,R.Z)(L,[["render",E]]);var Z=O;const j={class:"cart-section__summary"},J=(0,a._)("h3",null,"Summary",-1),W=(0,a._)("p",null,[(0,a.Uk)("Estimated shipping and handling costs"),(0,a._)("span",null,"Free")],-1),Y=(0,a._)("hr",null,null,-1),F=(0,a._)("hr",null,null,-1),H=(0,a._)("button",{class:"btn-buy"},"Shop",-1);function K(t,e,s,i,r,c){return(0,a.wg)(),(0,a.iD)("aside",j,[J,(0,a._)("div",null,[(0,a._)("p",null,[(0,a.Uk)("Subtotal "),(0,a._)("span",null,(0,n.zw)(c.summaryCart(t.$store.getters.getCart)),1)]),W,Y,(0,a._)("p",null,[(0,a.Uk)("Total"),(0,a._)("span",null,(0,n.zw)(c.summaryCart(t.$store.getters.getCart)),1)]),F,H])])}function P(t){if(void 0!==t){const e=t.map((t=>t.pieces*t.price)),s=e.reduce(((t,e)=>t+e),0);return s.toLocaleString("en-US",{style:"currency",currency:"USD"})}}var T={name:"SummaryComponent",props:[],data(){return{}},methods:{summaryCart:P}};const V=(0,R.Z)(T,[["render",K]]);var X=V,q={name:"CartView",components:{ListItemsComponent:Z,SummaryComponent:X},data(){return{carrito:[],empty:!1}},methods:{},computed:{cartItems(){return this.$store.getters.getCart}}};const B=(0,R.Z)(q,[["render",d]]);var G=B}}]);
//# sourceMappingURL=417.c6b6989a.js.map